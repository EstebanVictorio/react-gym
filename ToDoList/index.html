<html>
<head>
    <title>React</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.js"></script>
    <link rel="stylesheet"
          href="file:///C:/Users/Esteban.Burgueno/Desktop/Educational/Web/ReactGym/react-gym/_Resources/bootstrap.css">
    <link rel="stylesheet"
          href="file:///C:/Users/Esteban.Burgueno/Desktop/Educational/Web/ReactGym/react-gym/_Resources/todo.css">
</head>
<body>

<div id="container" class="container">

</div>

<script type="text/babel">

    let destination = document.querySelector('#container');

    class Task extends React.Component {
        render() {

        }
    }

    class Form extends React.Component {
        constructor() {
            super();
            this.state = {};
            this.addItem = (e) => {
                let tasks = this.state.tasks;

                tasks.push({
                    text: this.inputElement.value,
                    key: Date.now()
                });
                this.setState({tasks: tasks});
                e.preventDefault();
            };
        }

        componentWillMount() {
            this.setState({tasks: this.props.tasks});

        }

        render() {

            return <form onSubmit={this.addItem}>
                <input placeholder="Enter new task " className="txtBox" type="text"
                       ref={(a) => this.inputElement = a}/>
                <input className="bttn" type="submit" value="+"/>
            </form>
        }
    }

    class TodoTasks extends React.Component {
        constructor() {
            super();
            this.state = {};
        }


        componentWillMount() {
            this.setState({tasks: this.props.entries});
        }

        render() {

            let entries = this.state.tasks;
            console.log(entries);
            this.createTasks = (task) => {
                console.log(task);
                return <li key={task.key}>task.text</li>
            };
            let items = entries.map(this.createTasks);
            return <ul className="list">
                {items}
            </ul>;
        }
    }


    class TodoList extends React.Component {
        constructor() {
            super();
            this.state = {tasks: []};

        }

        render() {
            let tasks = this.state.tasks;
            return <div className="todoListMain">
                <div className="header">
                    <Form tasks={tasks}/>
                </div>
                <TodoTasks entries={tasks}/>
            </div>;
        }
    }


    ReactDOM.render(
        <TodoList/>
        , destination
    );
</script>
</body>
</html>